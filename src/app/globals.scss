@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: var(--font-primary), arial, sans-serif;
    color: var(--text-grey);
  }

  body {
    min-width: var(--ukhsa-page-min-width);
    margin: 0;
  }
}

// GDS Front-end Overrides
$govuk-global-styles: true;
$govuk-font-family: var(--font-primary), arial, sans-serif;
$govuk-page-width: 1400px;

@import '~node_modules/govuk-frontend/dist/govuk/all';

@layer utilities {
  // Applies the govuk focus ring to an element
  .govuk-focus {
    @include govuk-focused-text;
  }

  // Applies a dash to the left of an element
  .govuk-dash {
    @apply pl-5;

    &:before {
      content: 'â€”';
      @apply absolute left-0 top-1/2 -translate-y-1/2 pr-1 text-black;
    }
  }
}

:root {
  --ukhsa-font-code: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;

  --ukhsa-chart-height: 260px;

  // Container width
  --ukhsa-page-min-width: 320px;
  --ukhsa-page-width: 1400px;

  // Side Nav
  --ukhsa-nav-width: 220px;

  // Cards
  --ukhsa-chart-card-table-scroll-height: 375px;
  --ukhsa-chart-card-tab-min-height: 110px;

  // Govuk brand colours
  --colour-red: #{govuk-colour('red')};
  --colour-yellow: #{govuk-colour('yellow')};
  --colour-green: #{govuk-colour('green')};
  --colour-blue: #{govuk-colour('blue')};
  --colour-dark-blue: #{govuk-colour('dark-blue')};
  --colour-light-blue: #{govuk-colour('light-blue')};
  --colour-purple: #{govuk-colour('purple')};

  --colour-black: #{govuk-colour('black')};
  --colour-dark-grey: #{govuk-colour('dark-grey')};
  --colour-mid-grey: #{govuk-colour('mid-grey')};
  --colour-light-grey: #{govuk-colour('light-grey')};
  --colour-white: #{govuk-colour('white')};

  --colour-light-purple: #{govuk-colour('light-purple')};
  --colour-bright-purple: #{govuk-colour('bright-purple')};
  --colour-pink: #{govuk-colour('pink')};
  --colour-light-pink: #{govuk-colour('light-pink')};
  --colour-orange: #{govuk-colour('orange')};
  --colour-brown: #{govuk-colour('brown')};
  --colour-light-green: #{govuk-colour('light-green')};
  --colour-turquoise: #{govuk-colour('turquoise')};

  // Govuk greys
  --colour-grey-1: #6f777b;
  --colour-grey-2: #bfc1c3;
  --colour-grey-3: #f3f2f1;
  --colour-grey-4: #f8f8f8;

  // Govuk code colours
  // Based on https://github.com/alphagov/govuk_elements/blob/master/assets/sass/vendor/prism.scss
  --colour-code-background: var(--colour-light-grey);
  --colour-code-text: var(--colour-black);
  --colour-code-dark-red: #{govuk-shade(govuk-colour('red'), 7%)};
  --colour-code-grey: var(--colour-grey-1);
  --colour-code-light-red: #{govuk-tint(govuk-colour('red'), 2%)};
  --colour-code-blue: var(--colour-blue);
  --colour-code-green: var(--colour-green);
}

code[class*='language-'],
pre[class*='language-'] {
  text-shadow: 0 1px var(--colour-white);
  tab-size: 4;
  hyphens: none;
}

.ukhsa-chevron {
  &:before {
    content: '';
    height: 8px;
    width: 8px;
    transform: rotate(45deg);
    border-bottom: 2px solid #fff;
    border-right: 2px solid #fff;
    display: inline-block;
    transition: transform 0.2s ease;
    margin-right: 8px;
    margin-bottom: 3px;
  }

  &.open:before {
    transform: rotate(225deg);
    margin-bottom: 0;
  }

  // &:active:before,
  &:focus:before {
    border-color: var(--colour-black);
  }
}
